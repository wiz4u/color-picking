!function(){"use strict";navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;var a=document.getElementsByClassName("change-camera"),b=document.getElementById("video"),c=[],d=[],e=null,f=null,g=null,h=function(a){for(var b=0;b!==a.length;++b){var g=a[b];"video"===g.kind?c.push(g.id):"audio"===g.kind&&d.push(g.id)}c.length&&(e=c.length-1),d.length&&(f=0),l()},i=function(){var a=c.length;a&&(e=(e+1)%a),console.log(a,e),l()},j=function(a){g=a,b.src=window.URL.createObjectURL(g),b.play()},k=function(a){console.log("navigator.getUserMedia error: ",a)},l=function(){g&&(b.src=null,g.stop());var a=d[f],h=c[e],i={audio:{optional:[{sourceId:a}]},video:{optional:[{sourceId:h}]}};navigator.getUserMedia(i,j,k)};"undefined"==typeof window.MediaStreamTrack?window.alert("This browser does not support MediaStreamTrack.\n\nTry Chrome Canary."):window.MediaStreamTrack.getSources(h),a[0].onclick=i}();